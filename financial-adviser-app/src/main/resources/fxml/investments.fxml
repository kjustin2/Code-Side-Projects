<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>
<?import javafx.geometry.Insets?>
<?import javafx.scene.chart.*?>

<VBox spacing="10" xmlns="http://javafx.com/javafx/21" xmlns:fx="http://javafx.com/fxml/1"
      fx:controller="com.financialadviser.controller.InvestmentController">
    
    <padding>
        <Insets top="20" right="20" bottom="20" left="20"/>
    </padding>

    <HBox spacing="20">
        <!-- Left side: Portfolio List -->
        <VBox spacing="10" minWidth="300">
            <Label text="Investment Portfolio" styleClass="section-title"/>
            
            <GridPane vgap="5" hgap="5">
                <Label text="Symbol:" GridPane.columnIndex="0" GridPane.rowIndex="0"/>
                <TextField fx:id="symbolField" GridPane.columnIndex="1" GridPane.rowIndex="0"/>
                
                <Label text="Shares:" GridPane.columnIndex="0" GridPane.rowIndex="1"/>
                <TextField fx:id="sharesField" GridPane.columnIndex="1" GridPane.rowIndex="1"/>
                
                <Label text="Purchase Price:" GridPane.columnIndex="0" GridPane.rowIndex="2"/>
                <TextField fx:id="purchasePriceField" GridPane.columnIndex="1" GridPane.rowIndex="2"/>
                
                <Label text="Purchase Date:" GridPane.columnIndex="0" GridPane.rowIndex="3"/>
                <DatePicker fx:id="purchaseDatePicker" GridPane.columnIndex="1" GridPane.rowIndex="3"/>
                
                <Button text="Add Investment" onAction="#handleAddInvestment" 
                        GridPane.columnIndex="1" GridPane.rowIndex="4" styleClass="primary-button"/>
            </GridPane>
            
            <TableView fx:id="investmentTable" VBox.vgrow="ALWAYS">
                <columns>
                    <TableColumn fx:id="symbolColumn" text="Symbol"/>
                    <TableColumn fx:id="sharesColumn" text="Shares"/>
                    <TableColumn fx:id="purchasePriceColumn" text="Purchase Price"/>
                    <TableColumn fx:id="currentPriceColumn" text="Current Price"/>
                    <TableColumn fx:id="gainLossColumn" text="Gain/Loss"/>
                </columns>
            </TableView>
        </VBox>

        <!-- Right side: Investment Analysis -->
        <VBox spacing="10" HBox.hgrow="ALWAYS">
            <!-- Portfolio Performance Chart -->
            <Label text="Portfolio Performance" styleClass="section-title"/>
            <LineChart fx:id="performanceChart" title="Investment Growth">
                <xAxis>
                    <CategoryAxis label="Time"/>
                </xAxis>
                <yAxis>
                    <NumberAxis label="Value ($)"/>
                </yAxis>
            </LineChart>

            <!-- Asset Allocation -->
            <Label text="Asset Allocation" styleClass="section-title"/>
            <HBox spacing="20">
                <PieChart fx:id="allocationChart" title="By Asset Type" legendVisible="true" 
                         prefHeight="200" prefWidth="300"/>
                <VBox spacing="5">
                    <Label text="Risk Analysis" styleClass="subsection-title"/>
                    <Label fx:id="riskScoreLabel" text="Portfolio Risk Score: N/A"/>
                    <Label fx:id="diversificationLabel" text="Diversification: N/A"/>
                    <Label fx:id="volatilityLabel" text="Volatility: N/A"/>
                </VBox>
            </HBox>

            <!-- Investment Summary -->
            <VBox spacing="5" styleClass="summary-section">
                <Label text="Portfolio Summary" styleClass="section-title"/>
                <GridPane vgap="5" hgap="10">
                    <Label text="Total Invested:" GridPane.columnIndex="0" GridPane.rowIndex="0"/>
                    <Label fx:id="totalInvestedLabel" text="$0.00" GridPane.columnIndex="1" GridPane.rowIndex="0"/>
                    
                    <Label text="Current Value:" GridPane.columnIndex="0" GridPane.rowIndex="1"/>
                    <Label fx:id="currentValueLabel" text="$0.00" GridPane.columnIndex="1" GridPane.rowIndex="1"/>
                    
                    <Label text="Total Return:" GridPane.columnIndex="0" GridPane.rowIndex="2"/>
                    <Label fx:id="totalReturnLabel" text="$0.00" GridPane.columnIndex="1" GridPane.rowIndex="2"/>
                    
                    <Label text="Return Rate:" GridPane.columnIndex="0" GridPane.rowIndex="3"/>
                    <Label fx:id="returnRateLabel" text="0.00%" GridPane.columnIndex="1" GridPane.rowIndex="3"/>
                </GridPane>
            </VBox>
        </VBox>
    </HBox>
</VBox> 